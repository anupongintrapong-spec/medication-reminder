<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ó‡∏≤‡∏ô‡∏¢‡∏≤</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÑ‡∏•‡πà‡∏™‡∏µ + ‡πÄ‡∏Å‡∏£‡∏ô‡∏ö‡∏≤‡∏á ‡πÜ */
    .bg-hero {
      background: radial-gradient(1200px 600px at 20% -20%, rgba(99,102,241,.25), transparent 60%),
                  radial-gradient(1000px 500px at 110% 10%, rgba(16,185,129,.25), transparent 60%),
                  linear-gradient(180deg, #f8fafc 0%, #ffffff 100%);
    }
    .glass {
      backdrop-filter: blur(10px);
      background: rgba(255,255,255,.75);
    }
    /* ‡πÅ‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡∏ô‡∏õ‡∏∏‡πà‡∏°‡πÇ‡∏´‡∏•‡∏î */
    .loader {
      border: 2px solid rgb(255 255 255 / .3);
      border-top-color: white;
      border-radius: 9999px;
      width: 1rem; height: 1rem;
      animation: spin 0.8s linear infinite;
    }
    @keyframes spin { to { transform: rotate(360deg) } }
  </style>
</head>
<body class="min-h-screen bg-hero">
  <!-- Top bar -->
  <header class="sticky top-0 z-10 backdrop-blur-md bg-white/60 border-b">
    <div class="max-w-5xl mx-auto px-4 py-3 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="w-9 h-9 rounded-xl grid place-items-center bg-indigo-600 text-white">üíä</div>
        <span class="font-semibold">Medication Reminder</span>
      </div>
      <div class="text-sm text-gray-500">‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡∏ó‡∏î‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</div>
    </div>
  </header>

  <!-- Hero -->
  <section class="max-w-5xl mx-auto px-4">
    <div class="text-center mt-10 mb-8">
      <h1 class="text-3xl font-extrabold tracking-tight text-gray-900">
        ‡∏ï‡∏±‡∏ß‡∏ä‡πà‡∏ß‡∏¢‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ó‡∏≤‡∏ô‡∏¢‡∏≤
      </h1>
      <p class="text-gray-600 mt-2">
        ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏¢‡∏≤ ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ‡πÅ‡∏•‡∏∞‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏™‡πà‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ï‡∏≤‡∏°‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î
      </p>
    </div>

    <!-- Stepper -->
    <ol class="grid grid-cols-1 sm:grid-cols-3 gap-2 mb-6">
      <li class="flex items-center gap-3 p-3 rounded-xl bg-white border">
        <span class="w-7 h-7 rounded-full grid place-items-center bg-indigo-600 text-white text-sm">1</span>
        <div>
          <p class="font-medium">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏¢‡∏≤</p>
          <p class="text-xs text-gray-500">‡∏ä‡∏∑‡πà‡∏≠ & ‡∏Ç‡∏ô‡∏≤‡∏î‡∏¢‡∏≤</p>
        </div>
      </li>
      <li class="flex items-center gap-3 p-3 rounded-xl bg-white border">
        <span class="w-7 h-7 rounded-full grid place-items-center bg-emerald-600 text-white text-sm">2</span>
        <div>
          <p class="font-medium">‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏ß‡∏•‡∏≤</p>
          <p class="text-xs text-gray-500">‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡πÄ‡∏ß‡∏•‡∏≤</p>
        </div>
      </li>
      <li class="flex items-center gap-3 p-3 rounded-xl bg-white border">
        <span class="w-7 h-7 rounded-full grid place-items-center bg-slate-700 text-white text-sm">3</span>
        <div>
          <p class="font-medium">‡∏ï‡∏±‡πâ‡∏á‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏±‡∏ô & ‡∏≠‡∏µ‡πÄ‡∏°‡∏•</p>
          <p class="text-xs text-gray-500">‡∏£‡∏±‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</p>
        </div>
      </li>
    </ol>

    <!-- Card -->
    <div class="glass rounded-2xl shadow-xl border p-6 md:p-7">
      <form id="medForm" class="space-y-5">
        <!-- ‡∏ä‡∏∑‡πà‡∏≠‡∏¢‡∏≤ -->
        <div>
          <label class="block text-sm font-medium mb-1">‡∏ä‡∏∑‡πà‡∏≠‡∏¢‡∏≤</label>
          <div class="relative">
            <span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400">üíä</span>
            <input id="drugName" type="text" required placeholder="‡πÄ‡∏ä‡πà‡∏ô Metformin"
              class="w-full border rounded-xl pl-9 pr-3 py-2.5 focus:outline-none focus:ring-2 focus:ring-indigo-500" />
          </div>
        </div>

        <!-- ‡∏Ç‡∏ô‡∏≤‡∏î‡∏¢‡∏≤/‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ -->
        <div>
          <label class="block text-sm font-medium mb-1">‡∏Ç‡∏ô‡∏≤‡∏î‡∏¢‡∏≤ / ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ (‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å)</label>
          <div class="relative">
            <span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400">üìù</span>
            <input id="dosage" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô 500 mg ‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏ä‡πâ‡∏≤"
              class="w-full border rounded-xl pl-9 pr-3 py-2.5 focus:outline-none focus:ring-2 focus:ring-indigo-500" />
          </div>
        </div>

        <!-- ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô -->
        <div>
          <label class="block text-sm font-medium mb-2">‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</label>
          <div id="timesWrap" class="space-y-2"></div>

          <button id="addTimeBtn" type="button"
            class="inline-flex items-center gap-2 mt-2 text-sm px-3 py-1.5 rounded-full border bg-white hover:bg-gray-50">
            <span class="text-indigo-600">Ôºã</span> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ß‡∏•‡∏≤
          </button>
        </div>

        <!-- ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏±‡∏ô -->
        <div>
          <label class="block text-sm font-medium mb-1">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏±‡∏ô</label>
          <div class="flex items-center gap-2">
            <button type="button" id="decDays"
              class="w-10 h-10 rounded-lg border grid place-items-center hover:bg-gray-50">‚Äì</button>
            <input id="days" type="number" min="1" value="1" required
              class="w-24 text-center border rounded-lg py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
            <button type="button" id="incDays"
              class="w-10 h-10 rounded-lg border grid place-items-center hover:bg-gray-50">+</button>
          </div>
          <p class="text-xs text-gray-500 mt-1">‡πÄ‡∏ä‡πà‡∏ô 7 ‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á‡πÉ‡∏´‡πâ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ã‡πâ‡∏≥‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡∏•‡∏≤ 7 ‡∏ß‡∏±‡∏ô</p>
        </div>

        <!-- ‡∏≠‡∏µ‡πÄ‡∏°‡∏• -->
        <div>
          <label class="block text-sm font-medium mb-1">‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</label>
          <div class="relative">
            <span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400">‚úâÔ∏è</span>
            <input id="email" type="email" required placeholder="yourname@example.com"
              class="w-full border rounded-xl pl-9 pr-3 py-2.5 focus:outline-none focus:ring-2 focus:ring-indigo-500" />
          </div>
        </div>

        <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å + ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ -->
        <div class="flex items-center gap-3 pt-2">
          <button id="submitBtn" type="submit"
            class="inline-flex items-center gap-2 px-5 py-2.5 rounded-xl text-white bg-indigo-600 hover:bg-indigo-700 focus:ring-4 focus:ring-indigo-200">
            <span>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏¢‡∏≤</span>
            <span id="loadingDot" class="hidden loader"></span>
          </button>

          <!-- ‡πÄ‡∏ß‡πâ‡∏ô‡πÑ‡∏ß‡πâ‡πÉ‡∏´‡πâ app.js ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏î‡∏¥‡∏°‡πÑ‡∏î‡πâ -->
          <span id="saveMsg" class="text-sm text-gray-600"></span>
        </div>
      </form>
    </div>

    <!-- Footer -->
    <footer class="text-center text-xs text-gray-500 mt-8 pb-10">
      ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏î‡πâ‡∏ß‡∏¢ Google Apps Script & Gmail ‚Ä¢ UI by TailwindCSS
    </footer>
  </section>

  <!-- Toast -->
  <div id="toast"
       class="fixed left-1/2 -translate-x-1/2 bottom-6 hidden px-4 py-2 rounded-lg shadow-lg text-sm text-white bg-emerald-600">
    ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!
  </div>

  <script>
    // helper ‡πÄ‡∏û‡∏¥‡πà‡∏°-‡∏•‡∏î‡∏ß‡∏±‡∏ô
    const days = document.getElementById('days');
    document.getElementById('incDays').onclick = () => days.value = Math.max(1, (+days.value||1)+1);
    document.getElementById('decDays').onclick = () => days.value = Math.max(1, (+days.value||1)-1);

    // ‡∏õ‡∏£‡∏±‡∏ö‡∏™‡πÑ‡∏ï‡∏•‡πå‡πÅ‡∏ñ‡∏ß‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏°‡∏∑‡πà‡∏≠ app.js ‡∏™‡∏£‡πâ‡∏≤‡∏á input ‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏´‡∏°‡πà (‡πÉ‡∏ä‡πâ MutationObserver ‡∏î‡∏π children ‡∏Ç‡∏≠‡∏á #timesWrap)
    const timesWrap = document.getElementById('timesWrap');
    const decorateTimeRows = () => {
      timesWrap.querySelectorAll('div[data-row!="1"]').forEach(d => d.setAttribute('data-row','1'));
      timesWrap.querySelectorAll('input[type="datetime-local"]').forEach(el=>{
        el.classList.add("border","rounded-xl","px-3","py-2.5","w-full","focus:outline-none","focus:ring-2","focus:ring-emerald-500");
      });
      // ‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏ö‡∏ó‡∏µ‡πà app.js ‡∏™‡∏£‡πâ‡∏≤‡∏á (‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° "‡∏•‡∏ö") ‡πÉ‡∏´‡πâ‡∏î‡∏π‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡∏¥‡∏õ
      timesWrap.querySelectorAll('button').forEach(btn=>{
        if (!btn.dataset.styled) {
          btn.className = "text-sm text-rose-600 hover:text-rose-700 underline ml-2";
          btn.dataset.styled = "1";
        }
      });
      // ‡∏´‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏™‡∏ß‡∏¢
      timesWrap.querySelectorAll('div').forEach(w=>{
        w.classList.add("flex","items-center","gap-2");
      });
    };
    new MutationObserver(decorateTimeRows).observe(timesWrap,{childList:true,subtree:true});
    window.addEventListener('DOMContentLoaded', decorateTimeRows);

    // Toast ‡∏ä‡πà‡∏ß‡∏¢‡πÅ‡∏à‡πâ‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏Å‡πâ app.js ‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å showToast ‡πÅ‡∏ó‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô saveMsg ‡∏Å‡πá‡πÑ‡∏î‡πâ)
    window.showToast = (text, color="emerald")=>{
      const t = document.getElementById('toast');
      t.textContent = text;
      t.className = `fixed left-1/2 -translate-x-1/2 bottom-6 px-4 py-2 rounded-lg shadow-lg text-sm text-white bg-${color}-600`;
      t.style.display = 'block';
      setTimeout(()=> t.style.display='none', 2200);
    };

    // ‡∏õ‡∏∏‡πà‡∏°‡πÇ‡∏´‡∏•‡∏î: ‡∏ú‡∏π‡∏Å‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£ submit ‡∏Ç‡∏≠‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏° (‡πÑ‡∏°‡πà‡πÑ‡∏õ‡∏¢‡∏∏‡πà‡∏á logic ‡∏ó‡∏µ‡πà app.js)
    const form = document.getElementById('medForm');
    const loadingDot = document.getElementById('loadingDot');
    const submitBtn  = document.getElementById('submitBtn');

    form.addEventListener('submit', ()=>{
      loadingDot.classList.remove('hidden');
      submitBtn.setAttribute('disabled','true');
      setTimeout(()=>{ // ‡∏Å‡∏±‡∏ô‡∏•‡∏∑‡∏°‡∏õ‡∏•‡∏î (‡πÄ‡∏ú‡∏∑‡πà‡∏≠ app.js ‡πÑ‡∏°‡πà‡∏Ñ‡∏∑‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞)
        loadingDot.classList.add('hidden');
        submitBtn.removeAttribute('disabled');
      }, 6000);
    });

    // ‡πÉ‡∏´‡πâ app.js ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ: ‡∏ñ‡πâ‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à/‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß‡πÄ‡∏î‡∏¥‡∏° ‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡∏ä‡πà‡∏ß‡∏¢‡πÇ‡∏ä‡∏ß‡πå toast ‡∏î‡πâ‡∏ß‡∏¢
    const saveMsg = document.getElementById('saveMsg');
    const msgObserver = new MutationObserver(()=>{
      const txt = (saveMsg.textContent || "").trim();
      if (!txt) return;
      if (txt.startsWith("‚úÖ")) showToast(txt, "emerald");
      else if (txt.startsWith("‚ùå")) showToast(txt, "rose");
      else showToast(txt, "indigo");
    });
    msgObserver.observe(saveMsg,{childList:true,characterData:true,subtree:true});
  </script>

  <!-- ‡πÑ‡∏ü‡∏•‡πå logic ‡πÄ‡∏î‡∏¥‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì -->
  <script defer src="/app.js"></script>
</body>
</html>
